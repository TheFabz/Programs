<!DOCTYPE html>
<html>
<head>

<script>

function submeterMensagem() {
	let nome = document.contacto.nome.value;
    let email = document.contacto.e_mail.value;
    let telefone = document.contacto.telefone.value;
    let hora = document.contacto.hora_contacto.value;
    let mensagem = document.contacto.comentarios.value;

	if(validarDados(nome, email, telefone, hora, mensagem) == true) {
    alert("mensagem enviada com sucesso")
    }
}


function nomeValido(nomeInserido) {
        nomeInserido = nomeInserido.trim();
    if (nomeInserido.includes(' ') == true) {
        return true;
    }
    return false;
}

function emailValido(emailInserido) {
    emailInserido = emailInserido.trim();
    let posicaoArroba = emailInserido.indexOf("@");
    let posicaoUltimoPonto = emailInserido.lastIndexOf(".");

    if (posicaoArroba > 0 && posicaoUltimoPonto > (posicaoArroba + 2) 
        && (posicaoUltimoPonto + 2) < emailInserido.length) {
            return true;
    }
    else {
            return false;
    }
}

function telefoneValido (numeroInserido) {
	numeroInserido = numeroInserido.trim();
	let comprimentoNumero = numeroInserido.length;
	let primeiroValor = numeroInserido[0];
	let posicaoMenos = numeroInserido.indexOf("-")

	if (( comprimentoNumero > 11) && (primeiroValor == "+") && (posicaoMenos > 1) && (posicaoMenos < 5 )) {
		return true;
	}
	else {
	return false;
	}
}

function horaValida (horaInserida) {
	horaInserida = horaInserida.trim();
	let primeiroDado = horaInserida[0]; 
	let terceiroDado = horaInserida[2]; 
	let quartoDado = horaInserida[3];  
	let comprimentoDado = horaInserida.length;

	if ( (primeiroDado < 3) && (terceiroDado == ":") && (comprimentoDado == 5) && (quartoDado < 6)){
		return true;
	}
	else {
		return false;
	}

}

function mensagemValida(mensagemInserida) {
	mensagemInserida = mensagemInserida.trim();
	comprimentoMensagem = mensagemInserida.length;

	if ( comprimentoMensagem > 15) {
		return true;
	}
	else {
		return false;
	}
}



// Validação de todos os dados
function validarDados(nomeIntroduzido, emailIntroduzido, telefoneIntroduzido, horaIntroduzida, mensagemIntroduzida) {

if (nomeValido(nomeIntroduzido) == false) {
	alert("Nome invalido.");
	return false;
}
else if (emailIntroduzido != '' && emailValido(emailIntroduzido) == false) {
	alert("Email invalido.");
	return false;
}

else if (telefoneValido(telefoneIntroduzido) == false) {
	alert("Introduza um número de telefone válido.");
	return false;
}

else if (horaValida(horaIntroduzida) == false) {
	alert("Hora inválida.");
	return false;
}


else if (mensagemValida(mensagemIntroduzida) == false) {
	alert("Coloque dados os suficientes na mensagem para a nossa equipa de especialistas poder ajudar.");
	return false;
}
return true;
};


</script>	

<meta charset="UTF-8">
<link rel="stylesheet" href="css/reset.css">
<link rel="stylesheet" href="css/styles.css">
<title>Contactos - myFOLIO - Web Design &amp; Development</title>
</head>
<body>
	<header>
		<div class="row">
			<div class="column ocuppies_1_of_3">
				<h1 id="logo"><a href="index.html"><img src="img/logo-myfolio.png" alt="myFolio"></a></h1>
			</div>
			<div class="column ocuppies_2_of_3">
				<nav>
					<ul class="menu menu-main menu-vertical" id="main-navigation">
						<li><a href="index.html">Início</a></li>
						<li><a href="blog.html">Blog</a></li>
						<li id="servicos"><a href="#servicos">Serviços</a>
							<ul>
								<li><a href="servicos.html#web-design">Web Design</a></li>
								<li><a href="servicos.html#web-development">Web Development</a></li>
								<li><a href="servicos.html#desenho-grafico">Desenho Gráfico</a></li>
								<li><a href="servicos.html#manutencao">Manutenção Sistemas</a></li>
								<li><a href="orcamento.html">Orçamentos</a></li>
							</ul>
						</li>
						<li id="portfolio"><a href="portfolio.html">Portfólio</a></li>
						<li class="current"><a href="contactos.html">Contactos</a></li>
					</ul>
				</nav>
			</div>
		</div>
	
		<div class="row">
			<div class="column ocuppies_3_of_3">
				<hgroup id="main-title">
					<h1>Contactos</h1>
					<h3>Fale comigo e saiba como posso ajudá-lo!</h3>
				</hgroup>
			</div>
		</div>
	</header>
	<div id="content">
		<section>
			<div class="row">
				<div class="column ocuppies_2_of_3">
					<article>
						<h4>Onde estou...</h4>
						<iframe style="width:100%" height="300" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="http://maps.google.pt/maps?f=q&amp;source=s_q&amp;hl=pt-PT&amp;geocode=&amp;q=formabase,+lisboa&amp;sll=38.73549,-9.148393&amp;sspn=0.004511,0.01133&amp;ie=UTF8&amp;hq=formabase,&amp;hnear=Lisboa&amp;cid=15974234937223648872&amp;ll=38.735406,-9.148393&amp;spn=0.008369,0.01369&amp;z=15&amp;iwloc=near&amp;output=embed"></iframe><br />
						<a target="_blank" href="http://maps.google.pt/maps?f=q&amp;source=embed&amp;hl=pt-PT&amp;geocode=&amp;q=formabase,+lisboa&amp;sll=38.73549,-9.148393&amp;sspn=0.004511,0.01133&amp;ie=UTF8&amp;hq=formabase,&amp;hnear=Lisboa&amp;cid=15974234937223648872&amp;ll=38.735406,-9.148393&amp;spn=0.008369,0.01369&amp;z=15&amp;iwloc=A">Ver mapa maior</a>
					
						<address>
							<br>
							Rua Arnaldo Ferreira 37<br>
							1547-560 Pedreira de Baixo<br>
							<b>+351 653 115 785</b><br>
							<b><a href="#">eu@mailiu.tom</a></b><br>
						</address>
					</article>
				</div>
				
				<div class="column ocuppies_1_of_3">
					<form method="post" action="contacto-sucesso.html" name="contacto">
						<fieldset><legend>Contacte-me!</legend>
							<dl>
								<dt><label for="nome">Nome Completo *</label></dt>
								<dd><input type="text" name="nome" id="nome" class="input-big"></dd>
								
								<dt><label for="e_mail">E-mail *</label></dt>
								<dd><input type="text" name="e_mail" id="e_mail" class="input-medium"></dd>
								
								<dt><label for="telefone">Telefone *</label></dt>
								<dd><input type="text" name="telefone" id="telefone" placeholder="+000-000000000" class="input-small"></dd>
								
								<dt><label for="hora_contacto">Hora Preferencial Contacto *</label></dt>
								<dd><input type="text" name="hora_contacto" placeholder="hh:mm" id="hora_contacto" class="input-small"></dd>
								
								<dt><label for="comentarios">Questões / Comentários *</label></dt>
								<dd><textarea name="comentarios" id="comentarios" class="input-big"></textarea></dd>
								
								<dt></dt>
								<dd>
									<input class="button-main" type="button" name="enviar" id="enviar" value="Enviar" onclick="submeterMensagem()">
									<button name="limpar" id="limpar" type="reset">Limpar</button>
								</dd>
								
							</dl>
						</fieldset>
					</form>
				</div>
			</div>
		</section>
	</div>
	<footer>
		<div class="row">
			<div class="column ocuppies_2_of_3">
				<ul class="inline-list">
					<li><a href="index.html">Início</a></li>
					<li><a href="blog.html">Blog</a></li>
					<li><a href="servicos.html">Serviços</a></li>
					<li><a href="portfolio.html">Portfólio</a></li>
					<li><a href="contactos.html">Contactos</a></li>
				</ul>
			</div>
			<div class="column ocuppies_1_of_3">
				<ul class="inline-list">
					<li><a href="#"><img src="img/social-facebook.png"></a></li>
					<li><a href="#"><img src="img/social-twitter.png"></a></li>
					<li><a href="#"><img src="img/social-linkedin.png"></a></li>
					<li><a href="#"><img src="img/social-gplus.png"></a></li>
				</ul>
			</div>
		</div>
	</footer>
</body>
</html>